# e-커머스 도메인 모델

#### **주의** 

- 도메인의 이해도에 따라 언제든 달라질 수 있는 내용입니다.


## e-커머스 도메인
- 본 서비스는 회원이 충전한 포인트로 상품을 구매할 수 있는 e-커머스 서비스이다.
- 본 서비스는 회원이 충전한 포인트로 상품을 구매할 수 있는 e-커머스 서비스이다.
- 본 서비스는 한 명의 회원이 동시에 상품을 구매하는 가정은 제한한다.
    - ex) 하나의 계정을 두 개 이상의 기기에서 상품을 구매하는 가정
- 본 서비스는 하나의 주문에 있는 여러 상품들은 하나의 주문과 결제 흐름을 따른다.
    - ex) 쿠팡은 하나의 주문에 여러 상품을 담아 주문 후, 상품 개별적으로 주문 취소 및 반품을 요청할 수 있다.
    - 쿠팡 같이 구매한 상품에 대해 개별적으로 관리하는 것이 아니라, 하나의 주문에 담긴 여러 상품들은 모두 똑같은 흐름을 가지도록 한다.
- 충전된 포인트는 유효기간을 갖지 않는다.
    - ex) 타 플랫폼의 경우, 충전된 포인트마다 유효기간이 다르게 설정되어, 오늘 쓸 수 있는 포인트를 내일 못 쓰는 상황이 발생할 수 있다. 
    - 본 서비스는 한 번 충전된 포인트는 영구적으로 사용하도록 한다.
- 본 서비스는 상품을 생성할 때 재고도 함께 생성되어야 한다. 또한 재고는 상품을 생성하면 0이어야 한다.

## 도메인 모델

### 상품(Product)
_Entity_
#### 속성
- `id` : 상품 Id
- `name` : 상품 이름
- `price` : 상품 가격
- `createDate` : 생성 일자
- `modifiedDate` : 수정 일자
- `deleted` : (논리적) 삭제 여부
#### 행위
- `static register()` : 요청으로부터 상품 생성(상품 이름, 가격)
- `delete()` : (논리적) 삭제한다.
#### 규칙
- 상품 생성시 논리적 삭제 여부는 false여야 한다.
- 상품 생성시 생성일자와 수정일자가 동일해야 한다.
- id는 save 이후에 생긴다.
  - 즉 생성시엔 null이다.

### 재고(Stock)
_Entity_
#### 속성
- `id` : 재고 Id
- `productId` : 상품 Id
- `quantity` : 수량
- `createdDate` : 재고 생성일자
- `modifiedDate` : 재고 수정일자
- `deleted` : (논리적) 삭제 여부
#### 행위
- `static register()` : 상품Id로부터 재고 생성(상품Id)
- `delete()` : (논리적) 삭제한다.
#### 규칙
- 재고 생성시 논리적 삭제 여부는 false여야 한다.
- 재고 생성시 생성일자와 수정일자가 동일해야 한다.
- id는 save 이후에 생긴다.
  - 즉 생성시엔 null이다.